<?xml version="1.0"?>
<launch>
    <!--eval gropus-->
    <arg name="turtlebot_bringup" default="true" />
    <arg name="onboard_slam" default="false" />
    <arg name="rosbridge_websockets" default="true" />


    <!--required onboard_slam args-->
    <arg name="sync_mode" default="false" />
    <arg name="slam_toolbox" default="true" />

    <!--required websocket args-->
    <arg name="local_port" default="9090" />
    <arg name="server_port" default="10101" />
    
    <!-- Onboard Slam  -->
    <group if="$(arg onboard_slam)">
       
        <include file="$(find agent_bringup)/launch/onboard_slam.launch">
        <!-- set sync or async mode and slam toolbox option-->
            <arg name="sync_mode" value="$(arg sync_mode)" />
            <arg name="slam_toolbox" value="$(arg slam_toolbox)" />
        </include>
    </group>

    <!-- ROSbridge Server -->
    <group if="$(arg rosbridge_websockets)">
        <include file="$(find rosbridge_server)/launch/rosbridge_websocket.launch">
        <!-- set robot local and external port -->
            <arg name="port" value="$(arg local_port)" />
            <arg name="websocket_external_port" value="$(arg server_port)" />
        </include>
    </group>

    <!-- robot bringup -->
    <group if="$(arg turtlebot_bringup)">

        <include file="$(find turtlebot3_bringup)/launch/turtlebot3_robot.launch">
        </include>
    </group>


</launch>